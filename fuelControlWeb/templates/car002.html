<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>car002</title>
</head>
<style>
* {
    font-family:            'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size:              100%;
}
h3 {
    font-style:             italic;
    font-size:              30pt;
    text-align:             center;
}

h4 {
    font-size:              20pt;
}

table {
    text-align:             center;
    margin-left:            auto;
    margin-right:           auto;
    border-style:           groove;
    border-width:           0.5pt;
    border-radius:          15px;
    padding:                10px; 
}

tr:hover {
    background-color:     aliceblue;
}

th {
    width:                  100pt;
    background-color:       rgb(127, 182, 255);
    border-width: 0in;
}

input {
    width:                  100pt;
    text-align:             center;
    border-width:           0pt;
}
input:hover {
    background-color:     aliceblue;
}

.inputOptional {
    background-color:       rgb(255, 252, 214);
}

button {
    background-color:       #4CAF50; /* Green */
    border:                 none;
    color:                  white;
    padding:                15px 32px;
    text-align:             center;
    text-decoration:        none;
    display:                inline-block;
    font-size:              16px;
}

</style>
<script>
function httpGET(url, callback) {
    const http = new XMLHttpRequest();
    http.open("GET", url, true);
    http.onreadystatechange=(e)=>{
        if (http.readyState == 4 && http.status == 200)
            callback(http.responseText);
    }
    http.send();
}

function httpPOST(url, json) {
    const http = new XMLHttpRequest();
    http.open("POST", url, true);
    http.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    http.send(JSON.stringify(json));
}

function fillTable(json) {
    var obj = JSON.parse(json);
    var tr, td, inp, i, j;
    var li, a, i;
    for (i = 0; i < obj.length; i++) {
        tr = document.createElement("tr");
        for (j = 1; j < obj[i].length; j++) {
            td = document.createElement("td");
            inp = document.createElement("input");
            if (typeof obj[i][j] == "string")
                inp.type = "text";
            else if (typeof obj[i][j] == "number") 
                inp.type = "number";
            inp.placeholder = obj[i][j];
            td.appendChild(inp);
            tr.appendChild(td);
        }
        document.getElementById("tablesContent").appendChild(tr);
    }
}

function postValues() {
    var inputDate = document.getElementById("inputDate").value;
    var inputMileage = document.getElementById("inputMileage").value;
    var inputPricePerLitre = document.getElementById("inputPricePerLitre").value;
    var inputTotalPrice = document.getElementById("inputTotalPrice").value;
    console.log(inputDate);
}

function testing(json) {
    document.getElementById("testing").innerHTML = json;
}

httpGET("http://127.0.0.1:8080/car002", fillTable);
</script>
<body>
    <h3>car002</h3>
    <hr>
    <br>
    <button onclick="postValues()">POST button</button>
    <table id="inputTable">
        <tr>
            <th colspan="6">POST values</th>
        </tr>
        <tr>
            <td><input type="text" placeholder="Date" id="inputDate"></td>
            <td><input type="number" placeholder="Mileage" id="inputMileage"></td>
            <td><input type="number" placeholder="Price per Litre" id="inputPricePerLitre"></td>
            <td><input type="number" placeholder="Total Price paid" id="inputTotalPrice"></td>
            <td><input type="text" placeholder="Fuel Type" id="inputFuelType" class="inputOptional"></td>
            <td><input type="text" placeholder="Comments" id="inputComments" class="inputOptional"></td>
        </tr>
    </table>
    <br>
    <table id="tablesContent">
        <tr>
            <th>Date</th>
            <th>Mileage [km]</th>
            <th>Price per Litre [R$/l]</th>
            <th>Total Litres supplied [l]</th>
            <th>Total Price paid [R$]</th>
            <th>Fuel Type</th>
            <th>Mileage Difference [km]</th>
            <th>Efficiency [km/l]</th>
            <th>Price per Km [R$/l]</th>
            <th>Comments</th>
        </tr>
    </table>
    <p id="testing"></p>
    <br>
    <a href="index.html">Back</a>
</body>
</html>